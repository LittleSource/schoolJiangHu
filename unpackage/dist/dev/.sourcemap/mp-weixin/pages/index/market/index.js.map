{"version":3,"sources":["webpack:///C:/Users/Administrator/Desktop/schoolJiangHu/pages/index/market/index.vue","webpack:///C:/Users/Administrator/Desktop/schoolJiangHu/pages/index/market/index.vue?f8b2","webpack:///C:/Users/Administrator/Desktop/schoolJiangHu/pages/index/market/index.vue?0118","webpack:///C:/Users/Administrator/Desktop/schoolJiangHu/main.js","webpack:///C:/Users/Administrator/Desktop/schoolJiangHu/pages/index/market/index.vue?db52","webpack:///C:/Users/Administrator/Desktop/schoolJiangHu/pages/index/market/index.vue?78ae","webpack:///C:/Users/Administrator/Desktop/schoolJiangHu/pages/index/market/index.vue?3449","webpack:///C:/Users/Administrator/Desktop/schoolJiangHu/pages/index/market/index.vue?7553"],"names":["_self","components","graceLoading","data","showingIndex","orderIndex","orderList","cateIndex","cateList","saleVolume","marketList","filterHeight","loading","show","nextPages","totalPages","type","text","computed","onReady","uni","getSystemInfo","success","res","windowHeight","createSelectorQuery","select","fields","size","sHeight","height","exec","getStorageSync","startPullDownRefresh","onPullDownRefresh","getList","setTimeout","stopPullDownRefresh","onReachBottom","request","url","GLOBAL","serverSrc","method","page","order","sale_volume","market_school","selectSchool","title","status","concat","showToast","msg","icon","fail","e","requestFail","complete","methods","changeSchool","navigateTo","changeOrder","tapIndex","target","dataset","itemid","showOptions1","showOptions2","changeCate","changePriceOrder","length","setStorage","key","goMarket","marketId","noticeArr","marketName","notices","i","obj","push","JSON","stringify","Page","App"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyDA;AACA,oF,6FAFA,IAAIA,KAAJ,C;;;AAKe;AACdC,YAAU,EAAE;AACXC,gBAAY,EAAZA,qBADW,EADE;;AAIdC,MAJc,kBAIP;AACN,WAAO;AACN;AACAC,kBAAY,EAAE,CAFR;AAGN;AACAC,gBAAU,EAAE,CAJN;AAKNC,eAAS,EAAE,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,CALL;AAMN;AACAC,eAAS,EAAE,CAPL;AAQNC,cAAQ,EAAE,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,EAAmB,IAAnB,EAAyB,IAAzB,CARJ;AASN;AACAC,gBAAU,EAAE,CAVN;AAWNC,gBAAU,EAAE,EAXN;AAYNC,kBAAY,EAAE,MAZR;AAaNC,aAAO,EAAE;AACRC,YAAI,EAAE,IADE;AAERC,iBAAS,EAAE,CAFH;AAGRC,kBAAU,EAAE,CAHJ;AAIRC,YAAI,EAAE,CAJE;AAKRC,YAAI,EAAE,CAAC,MAAD,EAAS,gBAAT,EAA2B,OAA3B,EAAmC,WAAnC,CALE,EAbH,EAAP;;;AAqBA,GA1Ba;AA2BdC,UAAQ,EAAE,oBAAS,CAAC,cAAD,CAAT,CA3BI;AA4BdC,SAAO,EAAE,mBAAW;AACnBnB,SAAK,GAAG,IAAR;AACAoB,OAAG,CAACC,aAAJ,CAAkB;AACjBC,aAAO,EAAE,iBAASC,GAAT,EAAc;AACtB,YAAIC,YAAY,GAAGD,GAAG,CAACC,YAAvB;AACA;AACAJ,WAAG,CAACK,mBAAJ,GAA0BC,MAA1B,CAAiC,sBAAjC,EAAyDC,MAAzD,CAAgE;AAC/DC,cAAI,EAAE,IADyD,EAAhE;AAEG,kBAASL,GAAT,EAAc;AAChB,cAAI,CAACA,GAAL,EAAU;AACT;AACA;AACD,cAAIM,OAAO,GAAIL,YAAY,GAAGD,GAAG,CAACO,MAAlC;AACA9B,eAAK,CAACW,YAAN,GAAqBkB,OAAO,GAAG,IAA/B;AACA,SARD,EAQGE,IARH;AASA,OAbgB,EAAlB;;AAeA,SAAKrB,UAAL,GAAkBU,GAAG,CAACY,cAAJ,CAAmB,YAAnB,CAAlB,CAjBmB,CAiBiC;AACpDZ,OAAG,CAACa,oBAAJ;AACA,GA/Ca;AAgDdC,mBAhDc,+BAgDM;AACnB,SAAKC,OAAL;AACAC,cAAU,CAAC,YAAW;AACrBhB,SAAG,CAACiB,mBAAJ;AACA,KAFS,EAEP,IAFO,CAAV;AAGA,GArDa;AAsDd;AACAC,eAAa,EAAE,yBAAW;AACzB;AACA,QAAI,KAAK1B,OAAL,CAAaI,IAAb,KAAsB,CAA1B,EAA6B;AAC5B;AACA;AACD;AACA,QAAI,KAAKJ,OAAL,CAAaE,SAAb,GAAyB,KAAKF,OAAL,CAAaG,UAA1C,EAAsD;AACrD,WAAKH,OAAL,CAAaI,IAAb,GAAoB,CAApB,CADqD,CAC9B;AACvB;AACA;AACD,SAAKJ,OAAL,CAAaI,IAAb,GAAoB,CAApB,CAVyB,CAUF;AACvBI,OAAG,CAACmB,OAAJ,CAAY;AACXC,SAAG,EAAE,KAAKC,MAAL,CAAYC,SAAZ,GAAwB,yBADlB;AAEXC,YAAM,EAAE,MAFG;AAGXxC,UAAI,EAAE;AACLyC,YAAI,EAAE,KAAKhC,OAAL,CAAaE,SADd;AAEL+B,aAAK,EAAE,KAAKvC,SAAL,CAAe,KAAKD,UAApB,CAFF;AAGLyC,mBAAW,EAAE,KAAKrC,UAHb;AAILsC,qBAAa,EAAE,KAAKC,YAAL,CAAkBC,KAJ5B;AAKLjC,YAAI,EAAE,KAAKR,QAAL,CAAc,KAAKD,SAAnB,CALD,EAHK;;AAUXe,aAAO,EAAE,iBAAAC,GAAG,EAAI;AACf,YAAIA,GAAG,CAACpB,IAAJ,CAAS+C,MAAT,KAAoB,GAAxB,EAA6B;AAC5B,eAAI,CAACxC,UAAL,GAAkB,KAAI,CAACA,UAAL,CAAgByC,MAAhB,CAAuB5B,GAAG,CAACpB,IAAJ,CAASO,UAAhC,CAAlB;AACA,SAFD,MAEO;AACNU,aAAG,CAACgC,SAAJ,CAAc;AACbH,iBAAK,EAAE1B,GAAG,CAACpB,IAAJ,CAASkD,GADH;AAEbC,gBAAI,EAAE,MAFO,EAAd;;AAIA;AACD,OAnBU;AAoBXC,UAAI,EAAE,cAACC,CAAD,EAAO;AACZ,aAAI,CAACf,MAAL,CAAYgB,WAAZ,CAAwBD,CAAxB;AACA,OAtBU;AAuBXE,cAAQ,EAAE,oBAAM;AACf,aAAI,CAAC9C,OAAL,CAAaI,IAAb,GAAoB,CAApB;AACA,aAAI,CAACJ,OAAL,CAAaE,SAAb;AACA,OA1BU,EAAZ;;AA4BA,GA9Fa;AA+Fd6C,SAAO,EAAE;AACRC,gBAAY,EAAE,wBAAW;AACxBxC,SAAG,CAACyC,UAAJ,CAAe;AACdrB,WAAG,EAAE,sCADS,EAAf;;AAGA,KALO;AAMRsB,eAAW,EAAE,qBAASN,CAAT,EAAY;AACxB,UAAIO,QAAQ,GAAGP,CAAC,CAACQ,MAAF,CAASC,OAAT,CAAiBC,MAAhC;AACA,WAAK7D,UAAL,GAAkB0D,QAAlB;AACA,WAAK3D,YAAL,GAAoB,CAApB;AACA,WAAK+B,OAAL;AACA,KAXO;AAYRgC,gBAAY,EAAE,wBAAW;AACxB,UAAI,KAAK/D,YAAL,IAAqB,CAAzB,EAA4B;AAC3B,aAAKA,YAAL,GAAoB,CAApB;AACA;AACA;AACD,WAAKA,YAAL,GAAoB,CAApB;AACA,KAlBO;AAmBRgE,gBAAY,EAAE,wBAAW;AACxB,UAAI,KAAKhE,YAAL,IAAqB,CAAzB,EAA4B;AAC3B,aAAKA,YAAL,GAAoB,CAApB;AACA;AACA;AACD,WAAKA,YAAL,GAAoB,CAApB;AACA,KAzBO;AA0BRiE,cAAU,EAAE,oBAASb,CAAT,EAAY;AACvB,UAAIO,QAAQ,GAAGP,CAAC,CAACQ,MAAF,CAASC,OAAT,CAAiBC,MAAhC;AACA,WAAK3D,SAAL,GAAiBwD,QAAjB;AACA,WAAK3D,YAAL,GAAoB,CAApB;AACA,WAAK+B,OAAL;AACA,KA/BO;AAgCR;AACAmC,oBAAgB,EAAE,4BAAW;AAC5B,UAAI,KAAK7D,UAAL,IAAmB,CAAvB,EAA0B;AACzB,aAAKA,UAAL,GAAkB,CAAlB;AACA,OAFD,MAEO;AACN,aAAKA,UAAL,GAAkB,CAAlB;AACA;AACD,WAAK0B,OAAL;AACA,KAxCO;AAyCR;AACAA,WAAO,EAAE,mBAAW;AACnBf,SAAG,CAACmB,OAAJ,CAAY;AACXC,WAAG,EAAE,KAAKC,MAAL,CAAYC,SAAZ,GAAwB,yBADlB;AAEXC,cAAM,EAAE,MAFG;AAGXxC,YAAI,EAAE;AACLyC,cAAI,EAAE,CADD;AAELC,eAAK,EAAE,KAAKvC,SAAL,CAAe,KAAKD,UAApB,CAFF;AAGLyC,qBAAW,EAAE,KAAKrC,UAHb;AAILsC,uBAAa,EAAE,KAAKC,YAAL,CAAkBC,KAJ5B;AAKLjC,cAAI,EAAE,KAAKR,QAAL,CAAc,KAAKD,SAAnB,CALD,EAHK;;AAUXe,eAAO,EAAE,iBAAAC,GAAG,EAAI;AACf,cAAIA,GAAG,CAACpB,IAAJ,CAAS+C,MAAT,KAAoB,GAAxB,EAA6B;AAC5B,kBAAI,CAACxC,UAAL,GAAkBa,GAAG,CAACpB,IAAJ,CAASO,UAA3B;AACA,kBAAI,CAACE,OAAL,CAAaG,UAAb,GAA0BQ,GAAG,CAACpB,IAAJ,CAASY,UAAnC;AACA,gBAAG,MAAI,CAACL,UAAL,CAAgB6D,MAAhB,KAA2B,CAA9B,EAAgC;AAC/B,oBAAI,CAAC3D,OAAL,CAAaI,IAAb,GAAoB,CAApB;AACA;AACD;AACAI,eAAG,CAACoD,UAAJ,CAAe;AACdC,iBAAG,EAAE,YADS;AAEdtE,kBAAI,EAAE,MAAI,CAACO,UAFG,EAAf;;AAIA,WAXD,MAWO;AACNU,eAAG,CAACgC,SAAJ,CAAc;AACbH,mBAAK,EAAE1B,GAAG,CAACpB,IAAJ,CAASkD,GADH;AAEbC,kBAAI,EAAE,MAFO,EAAd;;AAIA;AACD,SA5BU;AA6BXC,YAAI,EAAE,cAACC,CAAD,EAAO;AACZ,gBAAI,CAACf,MAAL,CAAYgB,WAAZ,CAAwBD,CAAxB;AACA,SA/BU,EAAZ;;AAiCA,KA5EO;AA6ERkB,YAAQ,EAAE,kBAASC,QAAT,EAAkBC,SAAlB,EAA4BC,UAA5B,EAAwC;AACjD,UAAIC,OAAO,GAAC,EAAZ;AACA,WAAI,IAAIC,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACH,SAAS,CAACL,MAAxB,EAA+BQ,CAAC,EAAhC,EAAmC,CAAC;AACnC,YAAIC,GAAG,GAAC;AACP/B,eAAK,EAAC2B,SAAS,CAACG,CAAD,CADR,EAAR;;AAGAD,eAAO,CAACG,IAAR,CAAaD,GAAb;AACA;;AAED5D,SAAG,CAACyC,UAAJ,CAAe;AACdrB,WAAG,EAAE,0BAAwBqC,UAAxB,GAAmC,aAAnC,GAAiDF,QAAjD,GAA0D,WAA1D,GAAsEO,IAAI,CAACC,SAAL,CAAeL,OAAf,CAD7D,EAAf;;AAGA,KAzFO,EA/FK,E;;;;;;;;;;;;AC7Df,uC;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,sCAAsC,4BAA4B,EAAE;AAC7E;AACA;AACA;AACA;AACA;AACA,sBAAsB,wBAAwB;AAC9C,mBAAmB;AACnB,aAAa;AACb;AACA;AACA,0BAA0B,gDAAgD;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,wBAAwB;AAC9C,mBAAmB;AACnB,aAAa;AACb;AACA;AACA,0BAA0B,gDAAgD;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,wBAAwB;AAC9C,mBAAmB;AACnB,aAAa;AACb;AACA;AACA;AACA;AACA,kCAAkC,sBAAsB;AACxD;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA,kCAAkC,sBAAsB;AACxD;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,wBAAwB;AAC9C,mBAAmB;AACnB,aAAa;AACb;AACA;AACA,0BAA0B,4CAA4C;AACtE;AACA;AACA;AACA;AACA;AACA,iBAAiB,sCAAsC;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB,2BAA2B;AAC3B,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,iBAAiB,sCAAsC;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB,2BAA2B;AAC3B,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,eAAe,uBAAuB,EAAE;AACjD;AACA,6BAA6B,6CAA6C;AAC1E;AACA;AACA;AACA;AACA,wBAAwB,iCAAiC;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA,4BAA4B,qBAAqB;AACjD,+BAA+B,SAAS,wBAAwB,EAAE;AAClE;AACA,4BAA4B,sBAAsB;AAClD;AACA;AACA,qBAAqB,uBAAuB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB,uBAAuB;AACvB;AACA;AACA;AACA,8BAA8B,sBAAsB;AACpD,8BAA8B,sBAAsB;AACpD;AACA;AACA;AACA;AACA,8BAA8B,sBAAsB;AACpD;AACA;AACA,8BAA8B,sBAAsB;AACpD;AACA;AACA;AACA;AACA;AACA,wBAAwB,wBAAwB;AAChD;AACA;AACA;AACA;AACA,0BAA0B,iCAAiC;AAC3D;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,0BAA0B,2CAA2C;AACrE;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACrOA;AACA;AACI,oL;AACAM,IAAI,CAAC,+BAAYC,cAAZ,CAAD,CAAJ,C;;;;;;;;;;;;ACHJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoF;AAC3B;AACL;AACa;;;AAGjE;AACqI;AACrI,gBAAgB,kJAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACvCf;AAAA;AAAA;AAAA;AAA2oB,CAAgB,iqBAAG,EAAC,C;;;;;;;;;;;;ACA/pB;AAAA;AAAA;AAAA;AAA+uB,CAAgB,6vBAAG,EAAC,C;;;;;;;;;;;;ACAnwB;AAAA;AAAA;AAAA;AAAA;AAAA","file":"pages/index/market/index.js","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar _self;\nimport graceLoading from \"../../../graceUI/components/graceLoading.vue\"\nimport {\n\tmapState\n} from 'vuex'\nexport default {\n\tcomponents: {\n\t\tgraceLoading\n\t},\n\tdata() {\n\t\treturn {\n\t\t\t//被展示的菜单\n\t\t\tshowingIndex: 0,\n\t\t\t//第一个选项相关\n\t\t\torderIndex: 0,\n\t\t\torderList: ['综合', '星级', '人气'],\n\t\t\t//第二个选项相关\n\t\t\tcateIndex: 0,\n\t\t\tcateList: ['全部', '超市', '外卖', '水果', '其他'],\n\t\t\t//销量排序\n\t\t\tsaleVolume: 1,\n\t\t\tmarketList: [],\n\t\t\tfilterHeight: '100%',\n\t\t\tloading: {\n\t\t\t\tshow: true,\n\t\t\t\tnextPages: 2,\n\t\t\t\ttotalPages: 2,\n\t\t\t\ttype: 0,\n\t\t\t\ttext: ['加载更多', 'loading ......', '已加载全部','此学校暂无商家开通']\n\t\t\t}\n\t\t}\n\t},\n\tcomputed: mapState(['selectSchool']),\n\tonReady: function() {\n\t\t_self = this;\n\t\tuni.getSystemInfo({\n\t\t\tsuccess: function(res) {\n\t\t\t\tvar windowHeight = res.windowHeight;\n\t\t\t\t//获取头部标题高度\n\t\t\t\tuni.createSelectorQuery().select('#grace-filter-header').fields({\n\t\t\t\t\tsize: true,\n\t\t\t\t}, function(res) {\n\t\t\t\t\tif (!res) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tvar sHeight = (windowHeight - res.height);\n\t\t\t\t\t_self.filterHeight = sHeight + 'px';\n\t\t\t\t}).exec();\n\t\t\t}\n\t\t});\n\t\tthis.marketList = uni.getStorageSync('marketList'); //获取本地缓存的数据\n\t\tuni.startPullDownRefresh();\n\t},\n\tonPullDownRefresh() {\n\t\tthis.getList();\n\t\tsetTimeout(function() {\n\t\t\tuni.stopPullDownRefresh();\n\t\t}, 1000);\n\t},\n\t//监听触底加载事件\n\tonReachBottom: function() {\n\t\t//判断当前是否正在加载\n\t\tif (this.loading.type === 1) {\n\t\t\treturn;\n\t\t}\n\t\t//判断是否是最后一页\n\t\tif (this.loading.nextPages > this.loading.totalPages) {\n\t\t\tthis.loading.type = 2; //显示已加载全部\n\t\t\treturn;\n\t\t}\n\t\tthis.loading.type = 1; //显示加载中\n\t\tuni.request({\n\t\t\turl: this.GLOBAL.serverSrc + 'market/index/findoftype',\n\t\t\tmethod: 'POST',\n\t\t\tdata: {\n\t\t\t\tpage: this.loading.nextPages,\n\t\t\t\torder: this.orderList[this.orderIndex],\n\t\t\t\tsale_volume: this.saleVolume,\n\t\t\t\tmarket_school: this.selectSchool.title,\n\t\t\t\ttype: this.cateList[this.cateIndex]\n\t\t\t},\n\t\t\tsuccess: res => {\n\t\t\t\tif (res.data.status === 200) {\n\t\t\t\t\tthis.marketList = this.marketList.concat(res.data.marketList);\n\t\t\t\t} else {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: res.data.msg,\n\t\t\t\t\t\ticon: \"none\"\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\tfail: (e) => {\n\t\t\t\tthis.GLOBAL.requestFail(e);\n\t\t\t},\n\t\t\tcomplete: () => {\n\t\t\t\tthis.loading.type = 0;\n\t\t\t\tthis.loading.nextPages++;\n\t\t\t}\n\t\t});\n\t},\n\tmethods: {\n\t\tchangeSchool: function() {\n\t\t\tuni.navigateTo({\n\t\t\t\turl: '../../common/checkSchool?market=true'\n\t\t\t});\n\t\t},\n\t\tchangeOrder: function(e) {\n\t\t\tvar tapIndex = e.target.dataset.itemid;\n\t\t\tthis.orderIndex = tapIndex;\n\t\t\tthis.showingIndex = 0;\n\t\t\tthis.getList();\n\t\t},\n\t\tshowOptions1: function() {\n\t\t\tif (this.showingIndex != 0) {\n\t\t\t\tthis.showingIndex = 0;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.showingIndex = 1;\n\t\t},\n\t\tshowOptions2: function() {\n\t\t\tif (this.showingIndex != 0) {\n\t\t\t\tthis.showingIndex = 0;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.showingIndex = 2;\n\t\t},\n\t\tchangeCate: function(e) {\n\t\t\tvar tapIndex = e.target.dataset.itemid;\n\t\t\tthis.cateIndex = tapIndex;\n\t\t\tthis.showingIndex = 0;\n\t\t\tthis.getList();\n\t\t},\n\t\t//价格排序\n\t\tchangePriceOrder: function() {\n\t\t\tif (this.saleVolume == 1) {\n\t\t\t\tthis.saleVolume = 2;\n\t\t\t} else {\n\t\t\t\tthis.saleVolume = 1;\n\t\t\t}\n\t\t\tthis.getList();\n\t\t},\n\t\t//条件更新后执行统一函数（如重新读取数据等）\n\t\tgetList: function() {\n\t\t\tuni.request({\n\t\t\t\turl: this.GLOBAL.serverSrc + 'market/index/findoftype',\n\t\t\t\tmethod: 'POST',\n\t\t\t\tdata: {\n\t\t\t\t\tpage: 1,\n\t\t\t\t\torder: this.orderList[this.orderIndex],\n\t\t\t\t\tsale_volume: this.saleVolume,\n\t\t\t\t\tmarket_school: this.selectSchool.title,\n\t\t\t\t\ttype: this.cateList[this.cateIndex]\n\t\t\t\t},\n\t\t\t\tsuccess: res => {\n\t\t\t\t\tif (res.data.status === 200) {\n\t\t\t\t\t\tthis.marketList = res.data.marketList;\n\t\t\t\t\t\tthis.loading.totalPages = res.data.totalPages;\n\t\t\t\t\t\tif(this.marketList.length === 0){\n\t\t\t\t\t\t\tthis.loading.type = 3;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//将请求的数据缓存到本地\n\t\t\t\t\t\tuni.setStorage({\n\t\t\t\t\t\t\tkey: 'marketList',\n\t\t\t\t\t\t\tdata: this.marketList\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: res.data.msg,\n\t\t\t\t\t\t\ticon: \"none\"\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfail: (e) => {\n\t\t\t\t\tthis.GLOBAL.requestFail(e);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tgoMarket: function(marketId,noticeArr,marketName) {\n\t\t\tvar notices=[];\n\t\t\tfor(var i=0;i<noticeArr.length;i++){//组装notices公告\n\t\t\t\tvar obj={\n\t\t\t\t\ttitle:noticeArr[i]\n\t\t\t\t};\n\t\t\t\tnotices.push(obj);\n\t\t\t}\n\t\t\t\n\t\t\tuni.navigateTo({\n\t\t\t\turl: './market?market_name='+marketName+'&market_id='+marketId+'&notices='+JSON.stringify(notices)\n\t\t\t});\n\t\t}\n\t}\n}\n","// extracted by mini-css-extract-plugin","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"view\",\n    [\n      _c(\n        \"view\",\n        { staticClass: \"grace-filter\", attrs: { id: \"grace-filter-header\" } },\n        [\n          _c(\n            \"view\",\n            {\n              staticClass: \"items\",\n              attrs: { eventid: \"5be952bf-0\" },\n              on: { tap: _vm.showOptions1 }\n            },\n            [\n              _vm._v(_vm._s(_vm.orderList[_vm.orderIndex])),\n              _c(\"text\", { staticClass: \"grace-iconfont icon-arrow-down\" })\n            ]\n          ),\n          _c(\n            \"view\",\n            {\n              staticClass: \"items\",\n              attrs: { eventid: \"5be952bf-1\" },\n              on: { tap: _vm.showOptions2 }\n            },\n            [\n              _vm._v(_vm._s(_vm.cateList[_vm.cateIndex])),\n              _c(\"text\", { staticClass: \"grace-iconfont icon-arrow-down\" })\n            ]\n          ),\n          _c(\n            \"view\",\n            {\n              staticClass: \"items \",\n              attrs: { eventid: \"5be952bf-2\" },\n              on: { tap: _vm.changePriceOrder }\n            },\n            [\n              _vm._v(\"销量\"),\n              _vm.saleVolume == 1\n                ? _c(\"image\", {\n                    staticStyle: { \"margin-top\": \"13%\" },\n                    attrs: {\n                      src: \"../../../static/market/sort1.png\",\n                      mode: \"widthFix\"\n                    }\n                  })\n                : _vm._e(),\n              _vm.saleVolume == 2\n                ? _c(\"image\", {\n                    staticStyle: { \"margin-top\": \"13%\" },\n                    attrs: {\n                      src: \"../../../static/market/sort2.png\",\n                      mode: \"widthFix\"\n                    }\n                  })\n                : _vm._e()\n            ]\n          ),\n          _c(\n            \"view\",\n            {\n              staticClass: \"items\",\n              attrs: { eventid: \"5be952bf-3\" },\n              on: { tap: _vm.changeSchool }\n            },\n            [\n              _vm._v(\"切换\"),\n              _c(\"text\", { staticClass: \"iconfont icon-qiehuanzuzhi\" })\n            ]\n          ),\n          _vm.showingIndex == 1\n            ? _c(\n                \"view\",\n                { staticClass: \"grace-filter-options\" },\n                _vm._l(_vm.orderList, function(item, index) {\n                  return _c(\n                    \"view\",\n                    {\n                      key: index,\n                      class: [\n                        index == _vm.orderIndex ? \"option current\" : \"option\"\n                      ],\n                      attrs: {\n                        \"data-itemid\": index,\n                        eventid: \"5be952bf-4-\" + index\n                      },\n                      on: { tap: _vm.changeOrder }\n                    },\n                    [\n                      _vm._v(_vm._s(item)),\n                      index == _vm.orderIndex\n                        ? _c(\"text\", {\n                            staticClass: \"grace-iconfont icon-right\"\n                          })\n                        : _vm._e()\n                    ]\n                  )\n                })\n              )\n            : _vm._e(),\n          _vm.showingIndex == 2\n            ? _c(\n                \"view\",\n                { staticClass: \"grace-filter-options\" },\n                _vm._l(_vm.cateList, function(item, index) {\n                  return _c(\n                    \"view\",\n                    {\n                      key: index,\n                      class: [\n                        index == _vm.cateIndex ? \"option current\" : \"option\"\n                      ],\n                      attrs: {\n                        \"data-itemid\": index,\n                        eventid: \"5be952bf-5-\" + index\n                      },\n                      on: { tap: _vm.changeCate }\n                    },\n                    [\n                      _vm._v(_vm._s(item)),\n                      index == _vm.cateIndex\n                        ? _c(\"text\", {\n                            staticClass: \"grace-iconfont icon-right\"\n                          })\n                        : _vm._e()\n                    ]\n                  )\n                })\n              )\n            : _vm._e()\n        ]\n      ),\n      _c(\n        \"view\",\n        { staticStyle: { \"margin-top\": \"50px\" } },\n        _vm._l(_vm.marketList, function(market, index) {\n          return _c(\"view\", { key: index, staticClass: \"grace-card-view\" }, [\n            _c(\n              \"view\",\n              {\n                staticClass: \"body\",\n                attrs: { eventid: \"5be952bf-6-\" + index },\n                on: {\n                  click: function($event) {\n                    _vm.goMarket(\n                      market.market_id,\n                      market.notice,\n                      market.market_name\n                    )\n                  }\n                }\n              },\n              [\n                _c(\"view\", { staticClass: \"img\" }, [\n                  _c(\"image\", { attrs: { src: market.billboard } })\n                ]),\n                _c(\"view\", { staticClass: \"desc\" }, [\n                  _c(\n                    \"view\",\n                    { staticClass: \"title\" },\n                    [\n                      _vm._v(_vm._s(market.market_name)),\n                      _vm._l(5, function(item, index2) {\n                        return _c(\"text\", {\n                          key: index2,\n                          class:\n                            market.star_level > index2\n                              ? \"grace-iconfont icon-shoucang\"\n                              : \"grace-iconfont icon-star\"\n                        })\n                      })\n                    ],\n                    2\n                  ),\n                  _c(\"view\", { staticClass: \"text\" }),\n                  _c(\"view\", { staticClass: \"text\" }, [\n                    _vm._v(\n                      _vm._s(market.status === 1 ? \"正在营业\" : \"商家休息中\")\n                    )\n                  ]),\n                  _c(\"view\", { staticClass: \"text\" }, [\n                    _vm._v(_vm._s(market.dorm_tower + market.dorm_num))\n                  ]),\n                  _c(\"view\", { staticClass: \"text\" }, [\n                    _vm._v(_vm._s(market.market_school))\n                  ])\n                ])\n              ]\n            ),\n            _c(\"view\", { staticClass: \"footer\" }, [\n              _c(\n                \"view\",\n                {\n                  staticClass: \"grace-iconfont icon-home\",\n                  attrs: { eventid: \"5be952bf-7-\" + index },\n                  on: {\n                    click: function($event) {\n                      _vm.goMarket(market.market_id)\n                    }\n                  }\n                },\n                [_vm._v(\"进店\")]\n              ),\n              _c(\"view\", { staticClass: \"grace-iconfont icon-share\" }, [\n                _vm._v(\"分享\")\n              ])\n            ])\n          ])\n        })\n      ),\n      _c(\"graceLoading\", {\n        attrs: {\n          loadingType: _vm.loading.type,\n          loadingText: _vm.loading.text,\n          show: _vm.loading.show,\n          mpcomid: \"5be952bf-0\"\n        }\n      })\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import 'uni-pages';\nimport pageFactory from 'mpvue-page-factory'\n    import App from './pages/index/market/index.vue'\n    Page(pageFactory(App))","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=1e1a6998&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\project\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"E:\\\\project\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('1e1a6998', component.options)\n    } else {\n      api.reload('1e1a6998', component.options)\n    }\n    module.hot.accept(\"./index.vue?vue&type=template&id=1e1a6998&\", function () {\n      api.rerender('1e1a6998', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"C:/Users/Administrator/Desktop/schoolJiangHu/pages/index/market/index.vue\"\nexport default component.exports","import mod from \"-!E:\\\\project\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\project\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\project\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--18-0!E:\\\\project\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\project\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\project\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\project\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\project\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--18-0!E:\\\\project\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\project\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import mod from \"-!E:\\\\project\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!E:\\\\project\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!E:\\\\project\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!E:\\\\project\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\project\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!E:\\\\project\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!E:\\\\project\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!E:\\\\project\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!E:\\\\project\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!E:\\\\project\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\project\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!E:\\\\project\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!E:\\\\project\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\project\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!E:\\\\project\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\project\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./index.vue?vue&type=template&id=1e1a6998&\""],"sourceRoot":""}