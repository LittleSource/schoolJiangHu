{"version":3,"sources":["webpack:///C:/Users/Administrator/Desktop/schoolJiangHu/pages/my/market/goods/edit.vue","webpack:///C:/Users/Administrator/Desktop/schoolJiangHu/pages/my/market/goods/edit.vue?e998","webpack:///C:/Users/Administrator/Desktop/schoolJiangHu/main.js","webpack:///C:/Users/Administrator/Desktop/schoolJiangHu/pages/my/market/goods/edit.vue?f356","webpack:///C:/Users/Administrator/Desktop/schoolJiangHu/pages/my/market/goods/edit.vue?4610","webpack:///C:/Users/Administrator/Desktop/schoolJiangHu/pages/my/market/goods/edit.vue?722b"],"names":["graceChecker","require","data","isEdit","title","price","cost","keywords","cateid","marketId","productId","catesIndex","cates","catesList","imgurl","btnText","btnLoading","computed","onLoad","parameter","_self","market","uni","getStorageSync","isMarket","showToast","icon","showLoading","request","url","GLOBAL","serverSrc","method","market_id","success","res","status","length","showModal","content","showCancel","confirm","console","log","cancel","navigateBack","i","push","msg","fail","e","requestFail","complete","hideLoading","type","product_id","product","img","setNavigationBarTitle","methods","bindPickerChange","detail","value","formSubmit","rule","name","checkType","checkRule","errorMsg","formData","checkRes","check","requrl","phone","user","token","redirectTo","error","uploadImg","chooseImage","count","chooseImageRes","tempFilePaths","uploadFile","filePath","uploadFileRes","resObj","JSON","parse","imagePath","Page","App"],"mappings":"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","file":"pages/my/market/goods/edit.js","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n\tmapState\n} from 'vuex'\nvar graceChecker = require(\"../../../../graceUI/graceChecker.js\");\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tisEdit: false,\n\t\t\ttitle: '',\n\t\t\tprice: '',\n\t\t\tcost: '',\n\t\t\tkeywords: '',\n\t\t\tcateid: 0,\n\t\t\tmarketId: 0,\n\t\t\tproductId: 0, //商品id 修改商品时才会有\n\t\t\tcatesIndex: 0,\n\t\t\tcates: [],\n\t\t\tcatesList: [],\n\t\t\timgurl: 'https://yuange666.oss-cn-beijing.aliyuncs.com/app/camera.png',\n\t\t\tbtnText: '添加',\n\t\t\tbtnLoading: false\n\t\t}\n\t},\n\tcomputed: mapState(['user']),\n\tonLoad(parameter) {\n\t\tvar _self = this;\n\t\tconst market = uni.getStorageSync('market');\n\t\tif (market.isMarket) {\n\t\t\tthis.marketId = market.marketId;\n\t\t}else{\n\t\t\tuni.showToast({\n\t\t\t\ttitle: '系统错误',\n\t\t\t\ticon: \"none\"\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\t\tuni.showLoading({\n\t\t\ttitle: '加载中...'\n\t\t});\n\t\tuni.request({ //获取商品分类\n\t\t\turl: this.GLOBAL.serverSrc + 'market/management/productcate',\n\t\t\tmethod: 'GET',\n\t\t\tdata: {\n\t\t\t\tmarket_id: this.marketId\n\t\t\t},\n\t\t\tsuccess: res => {\n\t\t\t\tif (res.data.status === 200) {\n\t\t\t\t\tthis.catesList = res.data.catesList;\n\t\t\t\t\tif (this.catesList.length === 0) { //若该商家没有分类\n\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\ttitle: '提示',\n\t\t\t\t\t\t\tcontent: '您还未添加商品分类,点击确定去添加商品分类',\n\t\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t\t\tconsole.log('用户点击确定');\n\t\t\t\t\t\t\t\t} else if (res.cancel) {\n\t\t\t\t\t\t\t\t\tuni.navigateBack();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfor (var i = 0; i < this.catesList.length; i++) {\n\t\t\t\t\t\t\tthis.cates.push(this.catesList[i].title);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: res.data.msg,\n\t\t\t\t\t\ticon: \"none\"\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\tfail: (e) => {\n\t\t\t\tthis.GLOBAL.requestFail(e);\n\t\t\t},\n\t\t\tcomplete: () => {\n\t\t\t\tuni.hideLoading();\n\t\t\t}\n\t\t});\n\t\tif (parameter.type === 'edit') { //如果编辑商品\n\t\t\tuni.showLoading({\n\t\t\t\ttitle: '加载商品中...'\n\t\t\t});\n\t\t\tthis.isEdit = true;\n\t\t\tthis.btnText = '修改';\n\t\t\tthis.productId = parameter.product_id; //拿到商品id\n\t\t\tuni.request({ //根据商品id获取商品信息\n\t\t\t\turl: _self.GLOBAL.serverSrc + 'market/management/product',\n\t\t\t\tmethod: 'GET',\n\t\t\t\tdata: {\n\t\t\t\t\tproduct_id: this.productId\n\t\t\t\t},\n\t\t\t\tsuccess: res => {\n\t\t\t\t\tif (res.data.status === 200) {\n\t\t\t\t\t\tvar product = res.data.product;\n\t\t\t\t\t\t_self.title = product.title;\n\t\t\t\t\t\t_self.price = product.price;\n\t\t\t\t\t\t_self.cost = product.cost;\n\t\t\t\t\t\t_self.keywords = product.keywords;\n\t\t\t\t\t\t_self.imgurl = product.img;\n\t\t\t\t\t\t_self.cateid = product.cateid;\n\t\t\t\t\t\tfor (var i = 0; i < _self.catesList.length; i++) { //同步显示当前商品的分类\n\t\t\t\t\t\t\tif (_self.catesList[i].cateid == _self.cateid) {\n\t\t\t\t\t\t\t\t_self.catesIndex = i;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: res.data.msg,\n\t\t\t\t\t\t\ticon: \"none\"\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfail: (e) => {\n\t\t\t\t\t_self.GLOBAL.requestFail(e);\n\t\t\t\t},\n\t\t\t\tcomplete: () => {\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tuni.setNavigationBarTitle({\n\t\t\ttitle: '商品' + this.btnText\n\t\t});\n\t},\n\tmethods: {\n\t\tbindPickerChange: function(e) {\n\t\t\tthis.catesIndex = e.detail.value;\n\t\t},\n\t\tformSubmit: function(e) {\n\t\t\tif (this.imgurl === 'https://yuange666.oss-cn-beijing.aliyuncs.com/app/camera.png') {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '请上传商品图片',\n\t\t\t\t\ticon: \"none\"\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar rule = [{\n\t\t\t\t\tname: \"title\",\n\t\t\t\t\tcheckType: \"string\",\n\t\t\t\t\tcheckRule: \"1,8\",\n\t\t\t\t\terrorMsg: \"商品名称应为1-8个字符\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: \"price\",\n\t\t\t\t\tcheckType: \"notnull\",\n\t\t\t\t\tcheckRule: \"\",\n\t\t\t\t\terrorMsg: \"商品价格不能为空\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: \"keywords\",\n\t\t\t\t\tcheckType: \"string\",\n\t\t\t\t\tcheckRule: \"1,30\",\n\t\t\t\t\terrorMsg: \"关键字不能为空\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: \"cost\",\n\t\t\t\t\tcheckType: \"notnull\",\n\t\t\t\t\tcheckRule: \"\",\n\t\t\t\t\terrorMsg: \"成本价格不能为空\"\n\t\t\t\t}\n\t\t\t];\n\t\t\t//进行表单检查\n\t\t\tvar formData = e.detail.value;\n\t\t\tvar checkRes = graceChecker.check(formData, rule);\n\t\t\tif (checkRes) {\n\t\t\t\tvar requrl = '';\n\t\t\t\tif (this.isEdit) {\n\t\t\t\t\tformData.product_id = this.productId;\n\t\t\t\t\trequrl = this.GLOBAL.serverSrc + '/market/management/productupdate';\n\t\t\t\t} else {\n\t\t\t\t\trequrl = this.GLOBAL.serverSrc + '/market/management/productadd';\n\t\t\t\t}\n\t\t\t\tthis.btnLoading = true;\n\t\t\t\tformData.phone = this.user.phone;\n\t\t\t\tformData.token = this.user.token;\n\t\t\t\tformData.market_id = this.marketId;\n\t\t\t\tformData.img = this.imgurl;\n\t\t\t\tformData.cateid = this.catesList[this.catesIndex].cateid;\n\t\t\t\tuni.request({\n\t\t\t\t\turl: requrl,\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\tdata: formData,\n\t\t\t\t\tsuccess: res => {\n\t\t\t\t\t\tif (res.data.status === 200) {\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: '商品' + this.btnText + '成功'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tuni.redirectTo({\n\t\t\t\t\t\t\t\turl: './index?market_id=' + this.marketId\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: res.data.msg,\n\t\t\t\t\t\t\t\ticon: \"none\"\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfail: (e) => {\n\t\t\t\t\t\tthis.GLOBAL.requestFail(e);\n\t\t\t\t\t},\n\t\t\t\t\tcomplete: () => {\n\t\t\t\t\t\tthis.btnLoading = false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: graceChecker.error,\n\t\t\t\t\ticon: \"none\"\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tuploadImg: function() {\n\t\t\tvar _self = this;\n\t\t\tuni.chooseImage({\n\t\t\t\tcount: 1,\n\t\t\t\tsuccess: (chooseImageRes) => {\n\t\t\t\t\tuni.showLoading({\n\t\t\t\t\t\ttitle: '上传中...'\n\t\t\t\t\t})\n\t\t\t\t\tconst tempFilePaths = chooseImageRes.tempFilePaths;\n\t\t\t\t\tuni.uploadFile({\n\t\t\t\t\t\turl: this.GLOBAL.serverSrc + 'market/product/upload',\n\t\t\t\t\t\tfilePath: tempFilePaths[0],\n\t\t\t\t\t\tname: 'file',\n\t\t\t\t\t\tsuccess: (uploadFileRes) => {\n\t\t\t\t\t\t\tvar resObj = JSON.parse(uploadFileRes.data);\n\t\t\t\t\t\t\tif (resObj.status === 200) {\n\t\t\t\t\t\t\t\t_self.imgurl = resObj.imagePath;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ttitle: resObj.msg,\n\t\t\t\t\t\t\t\t\ticon: \"none\"\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfail: (e) => {\n\t\t\t\t\t\t\t_self.GLOBAL.requestFail(e);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcomplete: () => {\n\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n}\n","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"view\", [\n    _c(\"view\", { staticClass: \"grace-padding grace-bg-white\" }, [\n      _c(\n        \"view\",\n        { staticClass: \"grace-form\" },\n        [\n          _c(\n            \"form\",\n            {\n              attrs: { eventid: \"b0340454-2\" },\n              on: { submit: _vm.formSubmit }\n            },\n            [\n              _c(\"view\", { staticClass: \"grace-items\" }, [\n                _c(\"view\", { staticClass: \"grace-label\" }, [_vm._v(\"商品名\")]),\n                _c(\"input\", {\n                  staticClass: \"input\",\n                  attrs: {\n                    type: \"text\",\n                    name: \"title\",\n                    value: _vm.title,\n                    placeholder: \"请输入商品名称\"\n                  }\n                })\n              ]),\n              _c(\"view\", { staticClass: \"grace-items\" }, [\n                _c(\"view\", { staticClass: \"grace-label\" }, [\n                  _vm._v(\"商品价格\")\n                ]),\n                _c(\"input\", {\n                  staticClass: \"input\",\n                  attrs: {\n                    type: \"number\",\n                    name: \"price\",\n                    value: _vm.price,\n                    placeholder: \"请输入出售价格\"\n                  }\n                })\n              ]),\n              _c(\"view\", { staticClass: \"grace-items\" }, [\n                _c(\"view\", { staticClass: \"grace-label\" }, [_vm._v(\"关键字\")]),\n                _c(\"input\", {\n                  staticClass: \"input\",\n                  attrs: {\n                    type: \"text\",\n                    name: \"keywords\",\n                    value: _vm.keywords,\n                    placeholder: \"多个关键字用英文逗号隔开\"\n                  }\n                })\n              ]),\n              _c(\"view\", { staticClass: \"grace-items\" }, [\n                _c(\"view\", { staticClass: \"grace-label\" }, [\n                  _vm._v(\"成本价格\")\n                ]),\n                _c(\"input\", {\n                  staticClass: \"input\",\n                  attrs: {\n                    type: \"number\",\n                    name: \"cost\",\n                    value: _vm.cost,\n                    placeholder: \"请输入成本价格\"\n                  }\n                })\n              ]),\n              _c(\n                \"view\",\n                {\n                  staticClass: \"grace-items\",\n                  staticStyle: { height: \"190rpx\" }\n                },\n                [\n                  _c(\"view\", { staticClass: \"grace-label\" }, [\n                    _vm._v(\"商品图片\")\n                  ]),\n                  _c(\"view\", { staticClass: \"img\" }, [\n                    _c(\"image\", {\n                      staticStyle: {\n                        width: \"210rpx\",\n                        height: \"180rpx\",\n                        \"line-height\": \"180rpx\"\n                      },\n                      attrs: { src: _vm.imgurl, eventid: \"b0340454-0\" },\n                      on: { click: _vm.uploadImg }\n                    })\n                  ])\n                ]\n              ),\n              _c(\"view\", { staticClass: \"grace-items\" }, [\n                _c(\"view\", { staticClass: \"grace-label\" }, [\n                  _vm._v(\"商品分类\")\n                ]),\n                _c(\n                  \"view\",\n                  { staticClass: \"grace-form-r\" },\n                  [\n                    _c(\n                      \"picker\",\n                      {\n                        attrs: {\n                          value: _vm.catesIndex,\n                          range: _vm.cates,\n                          name: \"cate\",\n                          eventid: \"b0340454-1\"\n                        },\n                        on: { change: _vm.bindPickerChange }\n                      },\n                      [_c(\"text\", [_vm._v(_vm._s(_vm.cates[_vm.catesIndex]))])]\n                    )\n                  ],\n                  1\n                )\n              ]),\n              _c(\n                \"view\",\n                {\n                  staticStyle: {\n                    padding: \"22rpx 0\",\n                    \"border-bottom\": \"1px solid #EBEBEB\"\n                  }\n                },\n                [\n                  _c(\n                    \"button\",\n                    {\n                      staticStyle: { width: \"100%\", background: \"#fb6566\" },\n                      attrs: {\n                        loading: _vm.btnLoading,\n                        formType: \"submit\",\n                        type: \"primary\"\n                      }\n                    },\n                    [_vm._v(\"确定\" + _vm._s(_vm.btnText))]\n                  )\n                ],\n                1\n              )\n            ]\n          )\n        ],\n        1\n      )\n    ])\n  ])\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import 'uni-pages';\nimport pageFactory from 'mpvue-page-factory'\n    import App from './pages/my/market/goods/edit.vue'\n    Page(pageFactory(App))","import { render, staticRenderFns } from \"./edit.vue?vue&type=template&id=daf47622&\"\nimport script from \"./edit.vue?vue&type=script&lang=js&\"\nexport * from \"./edit.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\project\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"E:\\\\project\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('daf47622', component.options)\n    } else {\n      api.reload('daf47622', component.options)\n    }\n    module.hot.accept(\"./edit.vue?vue&type=template&id=daf47622&\", function () {\n      api.rerender('daf47622', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"C:/Users/Administrator/Desktop/schoolJiangHu/pages/my/market/goods/edit.vue\"\nexport default component.exports","import mod from \"-!E:\\\\project\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\project\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\project\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--18-0!E:\\\\project\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\project\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./edit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\project\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\project\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\project\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--18-0!E:\\\\project\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\project\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./edit.vue?vue&type=script&lang=js&\"","export * from \"-!E:\\\\project\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\project\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!E:\\\\project\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\project\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./edit.vue?vue&type=template&id=daf47622&\""],"sourceRoot":""}