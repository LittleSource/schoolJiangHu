(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/my/market/classify"],{"37d7":function(t,s,e){},5943:function(t,s,e){"use strict";e.r(s);var i=e("b979"),a=e("d4ee");for(var n in a)"default"!==n&&function(t){e.d(s,t,function(){return a[t]})}(n);e("7dd0");var c=e("2877"),o=Object(c["a"])(a["default"],i["a"],i["b"],!1,null,null,null);s["default"]=o.exports},"7dd0":function(t,s,e){"use strict";var i=e("37d7"),a=e.n(i);a.a},b89b:function(t,s,e){"use strict";e("859d");var i=n(e("b0ce")),a=n(e("5943"));function n(t){return t&&t.__esModule?t:{default:t}}Page((0,i.default)(a.default))},b979:function(t,s,e){"use strict";var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("view",[0==t.catesList.length?e("view",{staticClass:"margin-top text-center grey"},[t._v("暂无分类，请点击下面按钮添加")]):t._e(),t._l(t.catesList,function(s,i){return t.catesList.length>0?e("view",{key:i,staticClass:"cu-form-group"},[e("input",{staticClass:"radius",attrs:{placeholder:"请输入分类名称",value:s.title}}),e("button",{staticClass:"mini-btn bg-green shadow",attrs:{eventid:"6e291bf7-0-"+i},on:{click:function(s){t.sortUp(i)}}},[e("text",{staticClass:"grace-iconfont icon-arrow-up"})]),e("button",{staticClass:"mini-btn bg-green shadow",attrs:{eventid:"6e291bf7-1-"+i},on:{click:function(s){t.sortDown(i)}}},[e("text",{staticClass:"grace-iconfont icon-arrow-down"})]),e("button",{staticClass:"cu-btn bg-orange shadow",attrs:{eventid:"6e291bf7-2-"+i},on:{click:function(s){t.deleteCate(i)}}},[t._v("删除")])],1):t._e()}),e("view",{staticClass:"margin-top padding flex flex-direction"},[e("button",{staticClass:"cu-btn lg bg-blue shadow",attrs:{eventid:"6e291bf7-3"},on:{click:t.addCate}},[t._v("添加分类")]),e("button",{staticClass:"cu-btn lg shadow save",staticStyle:{"background-color":"#FC4243"},attrs:{eventid:"6e291bf7-4"},on:{click:t.submit}},[t._v("完成编辑")])],1)],2)},a=[];e.d(s,"a",function(){return i}),e.d(s,"b",function(){return a})},d4ee:function(t,s,e){"use strict";e.r(s);var i=e("f51f"),a=e.n(i);for(var n in i)"default"!==n&&function(t){e.d(s,t,function(){return i[t]})}(n);s["default"]=a.a},f51f:function(t,s,e){"use strict";(function(t){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var e={data:function(){return{marketId:0,catesList:[]}},onLoad:function(s){var e=this,i=t.getStorageSync("market");i.isMarket?(this.marketId=i.marketId,t.showLoading({title:"加载中..."}),t.request({url:this.GLOBAL.serverSrc+"market/management/productcate",method:"GET",data:{market_id:this.marketId},success:function(s){200===s.data.status?e.catesList=s.data.catesList:t.showToast({title:s.data.msg,icon:"none"})},fail:function(t){e.GLOBAL.requestFail(t)},complete:function(){t.hideLoading()}})):t.showToast({title:"系统错误",icon:"none"})},methods:{addCate:function(){if(this.catesList.length>=10)t.showToast({title:"分类最大上限10个",icon:"none"});else{var s=1;this.catesList.length>0&&(s=this.catesList[this.catesList.length-1].ord+1);var e={ord:s,title:"",market_id:this.marketId};this.catesList.push(e)}},deleteCate:function(s){t.showModal({title:"提示",content:"确定删除 "+this.catesList[s].title+" 分类吗？",success:function(t){t.confirm&&this.catesList.splice(s,1)}})},sortUp:function(t){if(0!==t){var s=this.catesList[t].ord;this.catesList[t].ord=this.catesList[t-1].ord,this.catesList[t-1].ord=s,this.catesList=this.swapArray(this.catesList,t,t-1)}},sortDown:function(t){if(t+1!==this.catesList.length){var s=this.catesList[t].ord;this.catesList[t].ord=this.catesList[t+1].ord,this.catesList[t+1].ord=s,this.catesList=this.swapArray(this.catesList,t,t+1)}},submit:function(){console.log(JSON.stringify(this.catesList))},swapArray:function(t,s,e){return t[s]=t.splice(e,1,t[s])[0],t}}};s.default=e}).call(this,e("6e42")["default"])}},[["b89b","common/runtime","common/vendor"]]]);