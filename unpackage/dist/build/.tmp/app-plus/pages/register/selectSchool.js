(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/register/selectSchool"],{"0cd9":function(t,e,s){"use strict";s.r(e);var i=s("5cd1"),a=s.n(i);for(var c in i)"default"!==c&&function(t){s.d(e,t,function(){return i[t]})}(c);e["default"]=a.a},"1b2b":function(t,e,s){"use strict";var i=s("c1e3"),a=s.n(i);a.a},"5cd1":function(t,e,s){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=s("2f62"),a=n(s("100f")),c=n(s("4094"));function n(t){return t&&t.__esModule?t:{default:t}}function l(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{},i=Object.keys(s);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(s).filter(function(t){return Object.getOwnPropertyDescriptor(s,t).enumerable}))),i.forEach(function(e){r(t,e,s[e])})}return t}function r(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var o=new c.default({key:"7YDBZ-4ATCD-5GM4Z-HCI5B-4ECM6-PPBXO"}),u={components:{simpleDialog:a.default},data:function(){return{schoolList:[],selectSchool:{},isThird:0}},onLoad:function(t){1===parseInt(t.is_third)&&(this.isThird=1)},methods:l({},(0,i.mapMutations)(["regSetSchool"]),{changeInput:function(t){if(""!==t.detail.value){var e=this;o.getSuggestion({keyword:t.detail.value,filter:"category=大学,中学",success:function(t){for(var s=[],i=0;i<t.data.length;i++)s.push({id:t.data[i].id,title:t.data[i].title,addr:t.data[i].address});e.schoolList=s},fail:function(t){console.error(JSON.stringify(t))}})}else this.schoolList=[]},setSchool:function(e){this.selectSchool=e,this.$refs.simpleDialog2.confirm({title:"提示",message:"确定设置"+e.title+"为您的学校吗？一经设置不可修改哦！学校位置:"+e.addr}),t.request({url:this.GLOBAL.serverSrc+"common/school/getSchool",method:"POST",data:{id:e.id,title:e.title,addr:e.addr}})},confirmButton:function(){this.regSetSchool(this.selectSchool),t.navigateTo({url:"./setAvatar?is_third="+this.isThird})},back:function(){t.navigateBack()}})};e.default=u}).call(this,s("6e42")["default"])},6115:function(t,e,s){"use strict";s.r(e);var i=s("beda"),a=s("0cd9");for(var c in a)"default"!==c&&function(t){s.d(e,t,function(){return a[t]})}(c);s("1b2b");var n=s("2877"),l=Object(n["a"])(a["default"],i["a"],i["b"],!1,null,null,null);e["default"]=l.exports},"7fdd":function(t,e,s){"use strict";s("7f79");var i=c(s("b0ce")),a=c(s("6115"));function c(t){return t&&t.__esModule?t:{default:t}}Page((0,i.default)(a.default))},beda:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("view",{staticClass:"s-page-wrapper"},[s("view",{staticClass:"s-page has-pd-20"},[s("view",{staticClass:"has-mgt-35"},[s("view",{staticClass:"is-size-25 has-title-color is-bold"},[t._v("设置您所在的学校")]),s("view",{staticClass:"has-desc-color  has-mgt-5  is-bold"},[t._v("帮助我们为你量身推荐内容")]),s("view",{staticClass:"is-block has-mgt-60 has-mgb-15"},[s("view",{staticClass:"form"},[s("label",[t._v("输入学校名称搜索")]),s("input",{staticClass:"input",attrs:{type:"text",focus:"",eventid:"63b8fb95-0"},on:{input:t.changeInput}}),s("scroll-view",{staticStyle:{height:"300px"},attrs:{"scroll-y":"true"}},[t.schoolList.length>0?s("view",{staticClass:"grace-list"},t._l(t.schoolList,function(e,i){return s("view",{key:i,staticClass:"items",attrs:{eventid:"63b8fb95-1-"+i},on:{click:function(e){t.setSchool(t.schoolList[i])}}},[s("view",{staticClass:"title"},[t._v(t._s(e.title))]),s("view",{staticClass:"arrow-right"})])})):t._e()])],1)])])]),s("view",{staticClass:"grace-steps grace-center",staticStyle:{margin:"20% 15% 0",width:"70%"}},[s("view",{staticClass:"step",attrs:{eventid:"63b8fb95-2"},on:{click:t.back}},[s("view",{staticClass:"step-circle"},[t._v("1")]),t._m(0)]),t._m(1),t._m(2)]),s("simpleDialog",{ref:"simpleDialog2",attrs:{eventid:"63b8fb95-3",mpcomid:"63b8fb95-0"},on:{confirmButton:t.confirmButton}})],1)},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("view",{staticClass:"step-content"},[s("view",{staticClass:"step-title"},[t._v("第一步")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("view",{staticClass:"step current"},[s("view",{staticClass:"step-circle"},[t._v("2")]),s("view",{staticClass:"step-content"},[s("view",{staticClass:"step-title"},[t._v("第二步")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("view",{staticClass:"step"},[s("view",{staticClass:"step-circle"},[t._v("3")]),s("view",{staticClass:"step-content"},[s("view",{staticClass:"step-title"},[t._v("第三步")])])])}];s.d(e,"a",function(){return i}),s.d(e,"b",function(){return a})},c1e3:function(t,e,s){}},[["7fdd","common/runtime","common/vendor"]]]);